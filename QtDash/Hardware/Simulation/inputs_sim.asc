Version 4
SHEET 1 952 680
WIRE 64 -1024 64 -1072
WIRE 64 -928 64 -944
WIRE 128 -928 64 -928
WIRE 352 -928 352 -992
WIRE 352 -928 320 -928
WIRE 352 -864 320 -864
WIRE 352 -848 352 -864
WIRE 64 -832 -16 -832
WIRE 128 -832 64 -832
WIRE 64 -816 64 -832
WIRE 352 -752 352 -768
WIRE -16 -704 -16 -752
WIRE 64 -704 64 -736
WIRE 368 -464 368 -496
WIRE 144 -368 80 -368
WIRE 368 -368 368 -384
WIRE 368 -368 336 -368
WIRE 368 -304 336 -304
WIRE 368 -288 368 -304
WIRE 144 -272 80 -272
WIRE 80 -256 80 -272
WIRE 368 -192 368 -208
WIRE 0 32 -320 32
WIRE -320 128 -320 32
WIRE -256 128 -320 128
WIRE -144 128 -176 128
WIRE -112 128 -144 128
WIRE 0 128 0 96
WIRE 0 128 -32 128
WIRE 272 128 0 128
WIRE 368 144 336 144
WIRE 400 144 368 144
WIRE 512 144 480 144
WIRE 592 144 512 144
WIRE -320 160 -320 128
WIRE 0 160 0 128
WIRE 272 160 240 160
WIRE 592 176 592 144
WIRE 512 192 512 144
WIRE -144 208 -144 128
WIRE 240 208 240 160
WIRE 368 208 368 144
WIRE 368 208 240 208
WIRE 0 240 0 224
WIRE 0 240 -16 240
WIRE -320 256 -320 240
WIRE 512 288 512 256
WIRE 592 288 592 256
WIRE -144 320 -144 288
FLAG 512 288 0
FLAG -320 256 0
FLAG -144 320 0
FLAG 0 240 0
FLAG 592 288 0
FLAG -496 -496 0
FLAG -496 -576 Signal
FLAG -400 -496 0
FLAG -400 -576 3.3V
FLAG 64 -704 0
FLAG 80 -176 0
FLAG 368 -192 0
FLAG 368 -496 3.3V
FLAG -608 -496 0
FLAG -608 -576 12V
FLAG 64 -1072 12V
FLAG -16 -704 0
FLAG -64 -768 0
FLAG -64 -816 signal
FLAG 352 -752 0
FLAG 352 -1072 3.3V
FLAG 16 -416 0
FLAG 64 -416 signal
FLAG 0 -368 12V
DATAFLAG 480 144 ""
SYMBOL Opamps\\opamp 304 208 M180
SYMATTR InstName U1
SYMBOL res 496 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 330k
SYMBOL cap 528 256 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL voltage -320 144 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res -160 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res -160 192 R0
SYMATTR InstName R4
SYMATTR Value {R}
SYMBOL schottky 16 224 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL schottky 16 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value BAT54
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL res -16 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL res 576 160 R0
SYMATTR InstName R1
SYMATTR Value 640k
SYMBOL Optos\\4N25 240 -304 R0
SYMATTR InstName U2
SYMBOL voltage -496 -592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 12 0 100u 100u 2 4)
SYMBOL voltage -400 -592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 3.3
SYMBOL Optos\\4N25 224 -864 R0
SYMATTR InstName U3
SYMBOL res 48 -832 R0
SYMATTR InstName R6
SYMATTR Value 10Meg
SYMBOL res 64 -272 R0
SYMATTR InstName R7
SYMATTR Value 470
SYMBOL res 352 -480 R0
SYMATTR InstName R8
SYMATTR Value 470
SYMBOL voltage -608 -592 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 12
SYMATTR InstName V4
SYMBOL res 352 -304 R0
SYMATTR InstName R9
SYMATTR Value 0
SYMBOL res 48 -1040 R0
SYMATTR InstName R10
SYMATTR Value 470
SYMBOL sw -16 -736 M180
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL res 336 -1088 R0
SYMATTR InstName R11
SYMATTR Value 470
SYMBOL res 336 -864 R0
WINDOW 3 37 84 Left 2
SYMATTR InstName R12
SYMATTR Value 0
SYMBOL sw -16 -368 M90
SYMATTR InstName S2
SYMATTR Value MYSW
TEXT -32 408 Left 2 !;.ac dec 1024 1u 500
TEXT -312 -16 Left 2 !.lib opamp.sub
TEXT -352 432 Left 2 !.tran 5
TEXT -616 288 Left 2 !.step param R 190 6k 100
TEXT -336 392 Left 2 !;op 5
TEXT -808 -368 Left 2 !.model MYSW SW(Ron=0.5 Roff=1Meg Vt=.5 Vh=-.4)
